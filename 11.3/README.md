##  Домашнее задание к занятию "Микросервисы: подходы" ## 

### Задача 1: Обеспечить разработку ###

#### Предложите решение для обеспечения процесса разработки: хранение исходного кода, непрерывная интеграция и непрерывная поставка. Решение может состоять из одного или нескольких программных продуктов и должно описывать способы и принципы их взаимодействия. ####

_Хранение исходного кода:_ github (если требуется бесплатный вариант) , либо Bitbucket. Для безопасного хранения (пароли, ключи) можно использовать Hashicorp Vault, имеющий плагины для интеграции с другим ПО

_Непрерывная интеграция и непрерывная поставка:_ Jenkins - для сборки исходного кода, Nexus - для хранения собранных дистрибутивов/контейнеров

_Облачная система:_  +
_Система контроля версий Git:_ +
_Репозиторий на каждый сервис:_ + 
_Запуск сборки по событию из системы контроля версий:_ + (в GitHub также есть инструмент Actions, а в Bitbucket - инструмент Pipelines )
_Запуск сборки по кнопке с указанием параметров:_ Job в Jenkins
_Возможность привязать настройки к каждой сборке:_ +
_Возможность создания шаблонов для различных конфигураций сборок:_ +
_Возможность безопасного хранения секретных данных: пароли, ключи доступа:_ Hashicorp Vault
_Несколько конфигураций для сборки из одного репозитория:_ функционал веток 
_Кастомные шаги при сборке:_ +
_Собственные докер образы для сборки проектов:_ https://hub.docker.com/r/jenkins/jenkins
_Возможность развернуть агентов сборки на собственных серверах:_ +
_Возможность параллельного запуска нескольких сборок:_ Jenkins позволяет создать несколько экзекьюторов заданий (обычно делают равным числу ядер на агенте)
_Возможность параллельного запуска тестов:_ +


### Задача 2: Логи ### 
 
#### Предложите решение для обеспечения сбора и анализа логов сервисов в микросервисной архитектуре. Решение может состоять из одного или нескольких программных продуктов и должно описывать способы и принципы их взаимодействия. ####

#### Логично использовать наиболее популярный стек ELK. ####

_Сбор логов в центральное хранилище со всех хостов обслуживающих систему:_ сервер/кластер ElasticSearch в качестве центрального хранилища
_Минимальные требования к приложениям, сбор логов из stdout:_ посредством filebeat или fluentd
_Гарантированная доставка логов до центрального хранилища:_ +
_Обеспечение поиска и фильтрации по записям логов:_ посредством logstash
_Обеспечение пользовательского интерфейса с возможностью предоставления доступа разработчикам для поиска по записям логов:_ через Kibana
_Возможность дать ссылку на сохраненный поиск по записям логов:_ kibana позволяет


### Задача 3: Мониторинг ###

#### Предложите решение для обеспечения сбора и анализа состояния хостов и сервисов в микросервисной архитектуре. Решение может состоять из одного или нескольких программных продуктов и должно описывать способы и принципы их взаимодействия. ####

Так как в требованиях речь идёт не только об инфраструктурных метриках, но и о специфичных (бизнес-метриках), то логично использовать наиболее популярный продукт Prometheus 

_Сбор метрик со всех хостов, обслуживающих систему:_ посредством агента prometheus exporter

_Сбор метрик состояния ресурсов хостов:_ CPU, RAM, HDD, Network; +

_Сбор метрик потребляемых ресурсов для каждого сервиса:_ CPU, RAM, HDD, Network; + 

_Сбор метрик, специфичных для каждого сервиса:_ +

_Пользовательский интерфейс с возможностью делать запросы и агрегировать информацию:_ Prometheus имеет как свой интерфейс, так и позволяет быть источником данных для других визуализаторов, например Grafana

_Пользовательский интерфейс с возможность настраивать различные панели для отслеживания состояния системы:_ удобнее через Grafana